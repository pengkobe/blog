<pre><code class="hljs javascript">
    function hasClass(obj, cls) {
        return obj.className.match(new RegExp('(\\s|^)' + cls + '(\\s|$)'));
    }
    function addClass(obj, cls) {
        if (!this.hasClass(obj, cls)) obj.className += " " + cls;
    }
    function removeClass(obj, cls) {
        if (hasClass(obj, cls)) {
            var reg = new RegExp('(\\s|^)' + cls + '(\\s|$)');
            obj.className = obj.className.replace(reg, ' ');
        }
    }
    function toggleClass(obj,cls){
        if(hasClass(obj,cls)){
            removeClass(obj, cls);
        }else{
            addClass(obj, cls);
        }
    }
    function toggleClassTest(){
        var obj = document.getElementById('test');
        toggleClass(obj,"testClass");
    }
    // 事实上，以上是比较老的做法了，我们可以使用HTML5 API完成
    if ("classList" in document.documentElement) {
        var obj = document.queryselector('#test');
        // 添加
        obj.classList.add("newclass");
        // 移除
        obj.classList.remove("oldclass");
        // 是否包含
        obj.classList.contains("classname");
        // 样式切换
        obj.classList.toggle("classname");
    }

</code></pre>

